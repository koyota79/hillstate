<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="MainHomeDao">
    <select id="selectShopList">
        select shop_id ,shop_nm ,open_time ,close_time ,tel_no
		,position ,use_yn ,position_area ,category ,description
        ,case when position_area = 0 then '가' 
              when position_area = 1 then '나' 
              when position_area = 2 then '다' 
              when position_area = 3 then '라'
        end as position_nm 
		from h_shop_mstr
        where use_yn = 'Y'
		order by position ,shop_id
    </select>

    <select id="selectShopSlideList">
        SELECT a.shop_id ,a.shop_nm ,b.main_img_nm ,b.sub_img_nm
          FROM h_shop_mstr a
         INNER JOIN h_shop_slide b
            ON a.shop_id = b.shop_id
         WHERE a.use_yn = 'Y' and b.use_yn = 'Y' and 
            CASE WHEN %(main_show_yn)s = 'Y' THEN b.main_show_yn = 'Y' ELSE b.sub_show_yn = 'Y'  END
    </select>
</mapper>